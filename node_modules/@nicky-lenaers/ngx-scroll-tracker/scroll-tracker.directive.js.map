{"version":3,"sources":["../src/scroll-tracker.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAA,EAAW,MAAA,EAAQ,UAAA,EAAY,YAAA,EAAc,MAAA,EAA0B,SAAA,EAAsB,WAAA,EAAY,MAAO,eAAA,CAAgB;AACzI,OAAO,EAAE,gBAAA,EAAiB,MAAO,iBAAA,CAAkB;AACnD,OAAO,EAAE,QAAA,EAAS,MAAO,2BAAA,CAA4B;AAErD,OAAO,EAAE,oBAAA,EAAqB,MAAO,0BAAA,CAA2B;AAIhE;IAMC,gCACS,YAAwB,EACxB,qBAA2C,EAC3C,UAAqB,EACpB,SAAc,EACd,YAAiB;QAJlB,iBAAY,GAAZ,YAAY,CAAY;QACxB,0BAAqB,GAArB,qBAAqB,CAAsB;QAC3C,eAAU,GAAV,UAAU,CAAW;QACpB,cAAS,GAAT,SAAS,CAAK;QACd,iBAAY,GAAZ,YAAY,CAAK;QAP1B,4BAAuB,GAAsB,IAAI,YAAY,EAAE,CAAC;IASjE,CAAC;IAED;;;;;OAKG;IACI,mDAAkB,GAAzB;QAAA,iBAgBC;QAdA,EAAE,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAAC,MAAM,CAAC;QAEhD,uCAAuC;QACvC,UAAU,CAAC,UAAC,QAAa;YAExB,gCAAgC;YAChC,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,qBAAqB;iBAC7C,QAAQ,CAAC,KAAI,CAAC,YAAY,EAAE,KAAI,CAAC,UAAU,CAAC;iBAC5C,OAAO,CAAC,cAAM,OAAA,KAAI,CAAC,QAAQ,EAAE,EAAf,CAAe,CAAC;iBAC9B,SAAS,CACT,UAAC,KAA6B,IAAK,OAAA,KAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAxC,CAAwC,EAC3E,UAAC,KAAK,IAAK,OAAA,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC/B,CAAC;QACJ,CAAC,CAAC,CAAA;IACH,CAAC;IAED;;;;;OAKG;IACI,4CAAW,GAAlB;QACC,EAAE,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAAC,MAAM,CAAC;QAChD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACjB,CAAC;IAED;;;;OAIG;IACK,yCAAQ,GAAhB;QACC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAkBF,6BAAC;AAAD,CA3EA,AA2EC;;AAhBM,iCAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;gBACzB,QAAQ,EAAE,sBAAsB;aAChC,EAAG,EAAE;CACL,CAAC;AACF,kBAAkB;AACX,qCAAc,GAAmE,cAAM,OAAA;IAC9F,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,oBAAoB,GAAG;IAC9B,EAAC,IAAI,EAAE,SAAS,GAAG;IACnB,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAG,EAAE,EAAG,EAAC;IACvE,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,WAAW,EAAG,EAAE,EAAG,EAAC;CACzE,EAN6F,CAM7F,CAAC;AACK,qCAAc,GAA2C;IAChE,yBAAyB,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,oBAAoB,EAAG,EAAE,EAAE;CAC7E,CAAC","file":"scroll-tracker.directive.js","sourceRoot":"","sourcesContent":["import { Directive, Inject, ElementRef, EventEmitter, Output, AfterContentInit, Renderer2, OnDestroy, PLATFORM_ID } from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport { DOCUMENT } from '@angular/platform-browser';\nimport { Subscription } from 'rxjs';\nimport { ScrollTrackerService } from './scroll-tracker.service';\nimport { ScrollTrackerEventData } from './models/scroll-tracker-event-data.model';\n\n\nexport class ScrollTrackerDirective implements AfterContentInit, OnDestroy {\n\n\tprivate _subscription: Subscription;\n\n\t ngxScrollTrackerHandler: EventEmitter<any> = new EventEmitter();\n\n\tconstructor(\n\t\tprivate _element_ref: ElementRef,\n\t\tprivate _scrollTrackerService: ScrollTrackerService,\n\t\tprivate _renderer2: Renderer2,\n\t\t private _document: any,\n\t\t private _platform_id: any\n\t) {\n\t}\n\n\t/**\n\t * Angular Lifecycle Hook - After Content Init\n\t * @source https://angular.io/api/core/AfterContentInit\n\t *\n\t * @returns void\n\t */\n\tpublic ngAfterContentInit(): void {\n\n\t\tif (isPlatformServer(this._platform_id)) return;\n\n\t\t// Kicks off the next Angular Lifecycle\n\t\tsetTimeout((__HACK__: any) => {\n\n\t\t\t// Subscribe to Scroll Events...\n\t\t\tthis._subscription = this._scrollTrackerService\n\t\t\t\t.register(this._element_ref, this._renderer2)\n\t\t\t\t.finally(() => this._cleanup())\n\t\t\t\t.subscribe(\n\t\t\t\t\t(value: ScrollTrackerEventData) => this.ngxScrollTrackerHandler.emit(value),\n\t\t\t\t\t(error) => console.error(error)\n\t\t\t\t);\n\t\t})\n\t}\n\n\t/**\n\t * Angular Lifecycle Hook - On Destroy\n\t * @source https://angular.io/api/core/OnDestroy\n\t *\n\t * @returns void\n\t */\n\tpublic ngOnDestroy(): void {\n\t\tif (isPlatformServer(this._platform_id)) return;\n\t\tthis._cleanup();\n\t}\n\n\t/**\n\t * Clean up subscription.\n\t *\n\t * @return void\n\t */\n\tprivate _cleanup(): void {\n\t\tthis._subscription.unsubscribe();\n\t}\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n\tselector: '[ngx-scroll-tracker]'\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ScrollTrackerService, },\n{type: Renderer2, },\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'ngxScrollTrackerHandler': [{ type: Output, args: ['ngx-scroll-tracker', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}