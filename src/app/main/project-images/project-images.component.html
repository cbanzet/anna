<!-- {{ projectkey }} -->

<div fxFlex="100" fxLayout="column">

	<div class="dropzone"
		fxFlex="100"
		fxLayout="column"
		dropZone
		(hovered)="toggleHover($event)"
		(dropped)="startUpload($event)"
		[class.hovering]="isHovering">
		
			<h3>Drop Zone to upload image files</h3>

	  	<div class="file">
	      <label class="file-label">
	      	<input class="file-input" type="file" (change)="startUpload($event.target.files)">
	        <span class="file-cta">
	          <span class="file-icon"><i class="fa fa-upload"></i></span>
	        </span>
	      </label>
	    </div>
	</div>

	<div *ngIf="percentage | async as pct" fxFlex="100">
	  <progress class="progress" fxFlex="100" [value]="pct" max="100"></progress>
	</div>

	<div *ngIf="snapshot | async as snap">
	  <div *ngIf="downloadURL | async as url">
	    <span *ngIf="(snap.bytesTransferred | fileSize)==(snap.totalBytes | fileSize)">
	    	{{ saveImageToFirestore(url) }}</span>
	  </div> 
	</div>


</div>